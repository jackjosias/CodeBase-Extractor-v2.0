// Jack-Josias â€“ CrÃ©ateur du projet

## ğŸ” Comportement dÃ©taillÃ© du script

### ğŸ“ ScÃ©nario : Dossier avec sous-dossiers et fichiers

Supposons cette structure :
```
MonProjet/
â”œâ”€â”€ app.py
â”œâ”€â”€ config.json
â”œâ”€â”€ README.md
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ style.css
â”‚   â””â”€â”€ components/
â”‚       â”œâ”€â”€ header.js
â”‚       â””â”€â”€ footer.js
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ server.py
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â””â”€â”€ product.py
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ helpers.py
â””â”€â”€ node_modules/  (ignorÃ©)
    â””â”€â”€ ...
```

### ğŸ¤– Comportement du script :

1. **Analyse initiale** :
   - DÃ©tecte le systÃ¨me d'exploitation
   - Scan rÃ©cursif de TOUS les dossiers et sous-dossiers
   - Compte les fichiers et dossiers
   - Ignore automatiquement `node_modules`, `.git`, etc.

2. **Traitement rÃ©cursif** :
   - Parcourt `MonProjet/` â†’ trouve `app.py`, `config.json`, `README.md`
   - Descend dans `frontend/` â†’ trouve `index.html`, `style.css`
   - Descend dans `frontend/components/` â†’ trouve `header.js`, `footer.js`
   - Descend dans `backend/` â†’ trouve `server.py`
   - Descend dans `backend/models/` â†’ trouve `user.py`, `product.py`
   - Descend dans `backend/utils/` â†’ trouve `helpers.py`

3. **Extraction intelligente** :
   - Lit le contenu de CHAQUE fichier de code trouvÃ©
   - Formate selon votre demande : `['chemin_relatif': [contenu]]`
   - GÃ¨re les erreurs d'encodage automatiquement

## ğŸ†• Comportement multi-dossiers (v2.1+)

- Le script accepte dÃ©sormais plusieurs dossiers en arguments.
- Il combine l'arborescence, les statistiques et le contenu de tous les dossiers dans un seul rapport.
- La section "CONTENU DES FICHIERS DE CODE" affiche tous les fichiers extraits sur une seule ligne, sÃ©parÃ©s par `&&`.

### Exemple de flux :

1. L'utilisateur lance :
   ```bash
   python codebase_extractor.py dossier1 dossier2 dossier3 -o rapport.txt
   ```
2. Le script analyse chaque dossier, fusionne les stats et l'arborescence.
3. Le rapport final contient :
   - Un en-tÃªte global
   - Les stats cumulÃ©es
   - L'arborescence combinÃ©e
   - Tous les fichiers extraits sur une seule ligne (blocs sÃ©parÃ©s par &&)
   - Un pied de page

## ğŸ“„ Exemple de sortie gÃ©nÃ©rÃ©e

## ğŸ¯ RÃ©sumÃ© du comportement

### âœ… Ce que fait le script :

1. **Parcours COMPLET** : Va dans chaque sous-dossier, mÃªme Ã  plusieurs niveaux de profondeur
2. **Extraction TOTALE** : RÃ©cupÃ¨re le contenu de TOUS les fichiers de code trouvÃ©s
3. **Format EXACT** : Respecte votre demande `['chemin_relatif': [contenu]]`
4. **Chemin RELATIF** : Utilise des chemins comme `backend/models/user.py` (pas des chemins absolus)
5. **Intelligence** : Ignore automatiquement les dossiers inutiles (`node_modules`, `.git`, etc.)

### ğŸš€ Avantages pour vous :

- **Fini le copier-coller** : Un seul clic et tout est extrait
- **Format IA-ready** : Parfait pour nourrir des LLM
- **Vue d'ensemble** : Statistiques + arborescence + contenu
- **ZÃ©ro effort** : Lance et oublie, le script fait tout

### ğŸ’¡ Usage typique :

```bash
# Dans votre projet
python codebase_extractor.py .

# RÃ©sultat : Un fichier .txt avec TOUT votre code formatÃ© pour les IA !
```

Le script va littÃ©ralement remplacer des heures de copier-coller par quelques secondes d'exÃ©cution. Plus jamais de perte de temps ! ğŸ‰

---

## COMPORTEMENT DÃ‰TAILLÃ‰ (2025)

- Le script ignore automatiquement les fichiers/dossiers gÃ©nÃ©rÃ©s (node_modules, .venv, dist, etc.)
- Il extrait tous les fichiers de code pertinents et gÃ©nÃ¨re un rapport dans un ou plusieurs formats (TXT, JSON, Markdown, HTML)
- Si l'option --zip est utilisÃ©e, tous les rapports et fichiers extraits sont archivÃ©s dans un ZIP
- Avant l'export, le script scanne les fichiers pour dÃ©tecter des secrets/credentials (API keys, mots de passe, etc.)
  - Si des secrets sont trouvÃ©s, l'utilisateur doit confirmer l'export (sauf --force)
- Si --chunk-size est utilisÃ©, un rapport spÃ©cial est gÃ©nÃ©rÃ© avec les fichiers dÃ©coupÃ©s en chunks pour ingestion LLM

### RÃ©sumÃ© CLI
- --format txt,json,md,html : formats de sortie
- --zip : export ZIP
- --chunk-size N : dÃ©coupage LLM
- --ignore-patterns : motifs d'exclusion personnalisÃ©s
- --force : forcer l'export malgrÃ© secrets

**Document rÃ©digÃ© par Jack-Josias (2025)**